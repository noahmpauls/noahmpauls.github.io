const pics = {
  first: {
    url: "assets/first.jpg",
    overlay:
    `
      <p>
      This photo is one of the first photos I ever saw of you. Its endurance as one of my favorite photos of you makes an important point about the way I see you: I have always found you to be beautiful. Never have I known a Cambria Stame who didn't leave me in awe of her beauty. My guess is that I never will know such a Cambria.
      </p>
    `
  },
  sunshine: {
    url: "assets/sunshine.jpg",
    overlay:
    `
      <p>
      You texted me this photo at the beginning of October 2019. In the middle of a long semester of missing you, the joy on display in this photo translated to a boost of happiness for me. Something about your smile outshines the sunlight streaming in behind you.
      </p>
    `
  },
  hawaii: {
    url: "assets/hawaii.jpg",
    overlay:
    `
      <p>
      I adore this photo. You most likely thought very little of it when you snapped it in Hawaii, but everything about you is simply perfect. Your eyes are especially beautiful, though: their deep brown color exactly matches your hair, and I cannot get enough of how round they are and how wide they open.
      </p>
    `
  },
  silly: {
    url: "assets/silly.jpg",
    overlay: 
    `
      <p>
      I incude this photo for two reasons. First, your willingness to be silly is a trait I find very adorable. Second, I am transfixed by your eyes, especially your lashes. You have such long and thick eyelashes that I can't help but be hypnotized when you bat them at me. That, combined with your eyes themselves, will keep me spellbound for the rest of my life.
      </p>
    `
  },
  hair: {
    url: "assets/hair.jpg",
    overlay:
    `
      <p>
      You sent me this photo because you thought your hair looked ridiculous. I wish I could fully express how gorgeous I think it looks in this photo. You look like a queen crowned with a powerful rushing river, one that flows perfectly into place. It surrounds and spotlights the smiling face that I love so much. To me, your hair couldn't be more perfect.
      </p>
    `
  },
  california: {
    url: "assets/cali.jpg",
    overlay:
    `
      <p>
      You sent me this photo after you got back from seeing me in Northern California. I'm drawn to this photo because you are brimming with happiness, and you look so incredibly beautiful when you are happy. Your hair is also a work of art; you probably think it looks wild, but it's your most stunning and attractive feature in this photo.
      </p>
    `
  },
  purple: {
    url: "assets/purple.jpg",
    overlay:
    `
      <p>
      You've been a willing subject of my camera experimentation; luckily, it is very difficult to take a photo of you that isn't lovely. Have you ever noticed the shape of your face before? Between the slight widow's peak of your hair and the angle of your jawline towards your chin, your smile is always framed by a heart. How fitting for the woman I love.
      </p>
    `
  },
  winter: {
    url: "assets/christmas.jpg",
    overlay:
    `
      <p>
      A California girl bunched up in winter clothes still warms my heart. Though most of your hair is hiding under your hat, I'm still captivated by your bold eyebrows, which you always raise up to show off when you smile. I also adore the huge dimple you have on your right cheek.
      </p>
    `
  },
  swing: {
    url: "assets/swing.jpg",
    overlay:
    `
      <p>
      What's amazing about you is how little you have to work to enchant me with your beauty. It is often in moments when you are working or daydreaming that I find myself unable to take my eyes off you. Though I love a fancy dress and an elaborate hairdo, the everyday Cambria is still a masterpiece.
      </p>
    `
  },
  kirkland: {
    url: "assets/kirkland.jpg",
    overlay:
    `
      <p>
      I could honestly stare at this photo of you for ages. Every one of your features is gorgeous. But what I find most striking about you in this photo is your gaze, which communicates unshakeable self-confidence, delightful playfulness, and deep love all at once. If you're looking for proof that your eyes are beautiful, look no further than this photo.
      </p>
    `
  },
  propose: {
    url: "assets/propose.jpg",
    overlay:
    `
      <p>
      You sent me this photo the day before I proposed to you. Had I any doubts about going through with the proposal (which I did not),  one look at this photo would have dispelled them all. Everything about you sings in a harmonious chorus of artistry, a chorus that I will get to listen to and watch for the rest of my life. What a lucky man I was on March 6th, and still am today.
      </p>
    `
  },
  princess: {
    url: "assets/princess.jpg",
    overlay:
    `
      <p>
      This photo of us looks like it comes straight out of a Disney movie. And truly, I always see you as you appear in this photo: as my beautiful princess.
      </p>
      <p>
      All this photo needs is true love's kiss...
      </p>
    `
  },
};

const pages = [
  {
    type: "text",
    class: "text t-center",
    caption:
    `
      <h1>Belle</h1>
      <p>A gallery dedicated to the beatiful Cambria Stame.</p>
      <p>Use the buttons or arrow keys to navigate.</p>
    `
  },
  {
    type: "text",
    class: "text t-center",
    caption: `
      <p>Dearest Cambria,</p>
      <p>Are you beautiful?</p>
    `
  },
  {
    type: "text",
    class: "text",
    caption:
    `
      <p>
      I think so. I think that when it comes to beauty, there is no possible way I could undersell you. When I look at you, I see the very picture of perfection. I think to myself, “How lucky am I, that I am marrying a woman prettier than I could possibly imagine anyone could be!” And when I think that, I really do mean it.
      </p>
      <p>
      I try and remind you as often as possible that I think you’re beautiful; not because I have a short-term memory, mind you, but because I think that when I say it, you probably don’t believe it. That is, you probably believe that I love you dearly, but that I greatly exaggerate your attractiveness.
      </p>
    `
  },
  {
    type: "text",
    class: "text",
    caption:
    `
      <p>
      In response to this tragedy, I have made you this website in the hopes that I can convey your beauty to you from my perspective. And from my perspective, you are a work of art. When I cannot see you in person, I peruse a mental art gallery of moments and memories that only begin to describe your beaty. This website is an attempt to bring that gallery to life.
      </p>
      <p>
      You will be looking at a small collection of photos of yourself. This may seem uncomfortable at first, but the goal is that you see yourself through my eyes. To that end, be sure to <i>hover over each photo</i> before moving on to the next one.
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.first,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.sunshine,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.hawaii,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.silly,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "text",
    class: "text",
    caption:
    `
      <p>
      The world has taken the word "beautiful" and marred its definition. Many people find it difficult to separate their perception of beaty from how much popularity they garner, how much skin is showing, or how distant one's appearance becomes from reality.
      </p>
      <p>
      In your everyday appearance, you demonstrate that beauty cannot exist apart from truth and goodness. One of your most beautiful qualities is the dignity with which you carry yourself, a dignity that makes you more feminine than any physical feature could. It is your rare combination of physical beaty and a bold character that most attracts me to you.
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.hair,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.california,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.purple,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.winter,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "text",
    class: "text",
    caption:
    `
      <p>
      A photograph alone is unable to capture the full breadth or depth of your beauty. To say a single photograph captures the whole picture of you would be like saying a single strand of your hair describes the collection of all of them together. Your beauty is the sum of so many individual parts, many of which I have yet to discover even after two and a half years of studying you.
      </p>
      <p>
      The whole of your beauty is greater than the sum of all the different pieces that make you beautiful. Your smile becomes a thousand times more delightful when acccompanied by your laugh. Your eyes become infinitely more wonderful when they look pensively into mine. All of the little things I find beautiful about you are magnified by each other.
      </p>
      <p>
      I have loved every second of time spent finding new aspects of you that make you even more beautiful than you first appeared to be, and I will spend the rest of my life advancing that project.
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.swing,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.kirkland,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.propose,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "pic",
    class: "",
    pic: pics.princess,
    caption:
    `
      <p>
      </p>
    `
  },
  {
    type: "text",
    class: "text",
    caption:
    `
      <p>It is the privilege of my life that I get to call you mine and love you for the rest of my life. My unending love for you makes you more beautiful in my eyes than anyone else in the world could possibly be.</p>
      <h2>Fin.</h2>
    `
  },
];

let index = 0;

const content = document.getElementById("content");
const caption = document.getElementById("caption");
const imageContainer = document.getElementById("image-container");
const image = document.getElementById("image");
const overlay = document.getElementById("image-overlay");
const nextButton = document.getElementById("next");
const prevButton = document.getElementById("previous");

setTimeout(() => {
  content.hidden = false;
  content.classList.remove("hidden");
  initializeContent(pages[index].type);
}, 100);

nextButton.onclick = goNext;

prevButton.onclick = goPrevious;

window.addEventListener("keyup", function(e) {
  const key = e.key;
  if (key === "ArrowRight") goNext();
  else if (key === "ArrowLeft") goPrevious();
});

function goNext() {
  if (index === pages.length - 1) return;
  index = Math.min(index + 1, pages.length - 1);
  updateArrows();
  updateContent(pages[index].type);
}

function goPrevious() {
  if (index === 0) return;
  index = Math.max(index - 1, 0);
  updateArrows();
  updateContent(pages[index].type);
}

function initializeContent(type) {
  if (type === "text") {
    setText();
  } else if (type === "pic") {
    setPicAndCaption();
  }
  updateArrows();
  content.className = pages[index].class;
}

function updateArrows() {
  prevButton.innerText = "←";
  prevButton.classList.remove("hidden");
  nextButton.innerText = "→";
  nextButton.classList.remove("hidden");
  if (index === 0) {
    prevButton.innerText = "";
    prevButton.classList.add("hidden");
  } else if (index === pages.length - 1) {
    nextButton.innerText = "";
    nextButton.classList.add("hidden");
  }
}

function updateContent(type) {
  content.classList.add("hidden");
  setTimeout(() => {
    if (type === "text") {
      setText();
    } else if (type === "pic") {
      setPicAndCaption();
    }
    setTimeout(() => {
      content.className = pages[index].class;
    }, 100);
  }, 300);
}

function setText() {
  caption.innerHTML = pages[index].caption;
  imageContainer.hidden = true;
}

function setPicAndCaption() {
  image.src = pages[index].pic.url;
  overlay.innerHTML = pages[index].pic.overlay;
  caption.innerHTML = pages[index].caption;
  imageContainer.hidden = false;
  if (pages[index].caption.length > 0) {
    caption.hidden = false;
  } else {
    caption.hidden = true;
  }
  caption.innerHTML = "";
  caption.hidden = true;
}

